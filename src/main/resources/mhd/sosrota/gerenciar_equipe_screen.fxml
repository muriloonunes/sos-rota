<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<VBox alignment="TOP_CENTER" spacing="20" styleClass="main-content-area" stylesheets="@../../styles/gerenciar_equipe_screen.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="mhd.sosrota.controller.GerenciarEquipeController">
    <padding>
        <Insets bottom="30" left="40" right="40" top="30" />
    </padding>

    <Text styleClass="h1" text="Gestão de Profissionais e Equipes" />
    <Separator />

    <TabPane maxWidth="900" styleClass="tab-pane-modern" tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">
        <!-- Tab: Cadastro de Profissionais -->
        <Tab text="Profissionais">
            <VBox alignment="TOP_CENTER" spacing="20" styleClass="card-pane">
                <padding>
                    <Insets bottom="20" left="20" right="20" top="20" />
                </padding>
                <Text styleClass="h2" text="Cadastro de Novo Profissional" />
                <GridPane alignment="TOP_CENTER" hgap="20" maxWidth="600" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="30" />
                        <ColumnConstraints percentWidth="70" />
                    </columnConstraints>

                    <Label styleClass="label" text="Nome Completo:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="professionalNameField" promptText="Ex: Dr. João Silva" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="label" text="Função:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <ComboBox fx:id="roleComboBox" maxWidth="Infinity" promptText="Selecione a função" styleClass="combo-box" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="label" text="Contato (Telefone/Email):" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <TextField fx:id="contactField" promptText="Ex: (62) 99999-9999" styleClass="text-field" GridPane.columnIndex="1" GridPane.rowIndex="2" />
               <rowConstraints>
                  <RowConstraints />
                  <RowConstraints />
                  <RowConstraints />
               </rowConstraints>
                </GridPane>
                <HBox alignment="CENTER" spacing="15">
                    <Button onAction="#handleClearProfessionalFields" styleClass="button-secondary" text="Limpar" />
                    <Button onAction="#handleRegisterProfessional" styleClass="button-primary" text="Cadastrar Profissional" />
                </HBox>
                <Separator />
                <Text styleClass="h3" text="Profissionais Cadastrados" />
                <TableView fx:id="professionalsTable" prefHeight="200" styleClass="table-view" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn prefWidth="200" text="Nome" />
                        <TableColumn prefWidth="150" text="Função" />
                        <TableColumn prefWidth="180" text="Contato" />
                        <TableColumn prefWidth="100" text="Ações" />
                    </columns>
                </TableView>
            </VBox>
        </Tab>

        <!-- Tab: Montagem de Equipes -->
        <Tab text="Equipes">
            <VBox alignment="TOP_CENTER" spacing="20" styleClass="card-pane">
                <padding>
                    <Insets bottom="20" left="20" right="20" top="20" />
                </padding>
                <Text styleClass="h2" text="Montagem de Equipes para Ambulâncias" />
                <GridPane alignment="TOP_CENTER" hgap="20" maxWidth="600" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="30" />
                        <ColumnConstraints percentWidth="70" />
                    </columnConstraints>

                    <Label styleClass="label" text="Ambulância:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <ComboBox fx:id="ambulanceComboBox" maxWidth="Infinity" promptText="Selecione a ambulância" styleClass="combo-box" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                    <Label styleClass="label" text="Médico:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <ComboBox fx:id="doctorComboBox" maxWidth="Infinity" promptText="Selecione o médico" styleClass="combo-box" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                    <Label styleClass="label" text="Enfermeiro(a):" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <ComboBox fx:id="nurseComboBox" maxWidth="Infinity" promptText="Selecione o enfermeiro(a)" styleClass="combo-box" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label styleClass="label" text="Condutor(a):" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <ComboBox fx:id="driverComboBox" maxWidth="Infinity" promptText="Selecione o condutor(a)" styleClass="combo-box" GridPane.columnIndex="1" GridPane.rowIndex="3" />
               <rowConstraints>
                  <RowConstraints />
                  <RowConstraints />
                  <RowConstraints />
                  <RowConstraints />
               </rowConstraints>
                </GridPane>
                <HBox alignment="CENTER" spacing="15">
                    <Button onAction="#handleClearTeamFields" styleClass="button-secondary" text="Limpar Equipe" />
                    <Button onAction="#handleSaveTeam" styleClass="button-success" text="Salvar Equipe" />
                </HBox>
                <Separator />
                <Text styleClass="h3" text="Equipes Ativas" />
                <TableView fx:id="activeTeamsTable" prefHeight="200" styleClass="table-view" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn prefWidth="120" text="Ambulância" />
                        <TableColumn prefWidth="150" text="Médico" />
                        <TableColumn prefWidth="150" text="Enfermeiro" />
                        <TableColumn prefWidth="150" text="Condutor" />
                        <TableColumn prefWidth="80" text="Ações" />
                    </columns>
                </TableView>
            </VBox>
        </Tab>
    </TabPane>
</VBox>
